#  外观模式

- **外观模式（Facade）** 为子系统中的一组接口提供一个一致的界面，此模式定义一个高层接口，这个接口使得这一子系统更加容易使用。

- 外观类 `ZCFund`，它需要了解所有子系统的方法或属性，进行组合，以备外界调用

- `外观模式` 完美地提现了**依赖倒置原则** 和 **迪米特法则**的思想 

--

## 依赖倒置原则

+ **抽象不应该依赖细节，细节应该依赖于抽象**（针对接口编程，不要对实现编程）

+ **依赖倒置原则**

    + 高层模块不应该依赖于低层模块，两个都应该依赖抽象

    + 抽象不应该依赖细节。细节应该依赖于抽象。

+ 倒置？
   
    + 面向过程开发，为了常用代码可以复用，会把这些常用代码写成很多函数的程序库，做新项目时候，去调用这些低层的函数就可以了。
   
    + 比如项目中访问数据库，把访问数据库的代码写成函数，每次做新项目时候就去调用这些函数。**也叫做高层模块依赖低层模块。**

    + 高层模块依赖低层模块，比如做新项目时，业务逻辑的高级模块都是一样的，但是客户希望使用不同数据库或存储信息方式，希望能再次利用这些高层模块，但高层模块都是与低层的访问数据库绑定在一起的，没办法复用这些高层模块。**比如主板、CPU、内存、硬盘都依赖具体的主板，主板坏了，所有部件都不能用了。**不管高层模块还是低层模块都依赖于抽象，具体一点就是接口或抽象类，只要接口稳定，那么任何一个更改不担心其他受到影响。

## 迪米特法则

+ **迪米特法则（LoD）也叫最少知识原则。**

+ 迪米特法则（Lod），如果两个类不必彼此直接通信，那么这两个类就不应当发生直接的相互作用。如果其中一个类需要调用另一个类的某一个方法，可以通过第三者转发这个调用。

+ 迪米特法则首先强调的前提是在**类的结构设计上**，每一个类都应当尽量降低成员的访问权限。
    + 一个类包装好自己的private状态，不需要让别的类知道的字段或行为就不要公开。

+ **迪米特法则的根本思想：是强调了类之间的松耦合。**
    + 类之间的耦合越弱，越有利于复用，一个处在弱耦合的类被修改，不会对有关系的类造成波及

--

### 何时使用外观模式

1、**数据访问层** 和 **业务逻辑层**，**业务逻辑层** 和 **表示层** 之间建立外观`Facade`，可以为复杂的子系统提供一个简单的接口，耦合大大降低。

2、开发阶段，子系统不断重构变的越来越复杂，使用时会产生很多很小的类，本是好事，但也给外部调用它们的用户程序带来了使用上的困难，**增加外观`Facade`可以通过一个简单的接口，减少它们之间的依赖。**

3、维护一个大型项目时，此系统已经非常难以维护和扩展，但因为它包含非常重要的功能，新的需求开发必须要依赖于它，此时用外观模式`Facade`也是非常合适的，**你可以为新系统开发一个外观`Facade`类，来提供设计粗糙或高度复杂的遗留代码的比较清晰简单的接口，让新系统与`Facade`对象交互，`Facade`与遗留代码交互所有复杂的工作。**
